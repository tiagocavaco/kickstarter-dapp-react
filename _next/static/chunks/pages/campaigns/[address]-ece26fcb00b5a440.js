(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[113],{19451:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/[address]",function(){return n(33797)}])},91986:function(e,r,n){"use strict";var t=n(34051),a=n.n(t),o=n(97378),s=n(24644);function i(e,r,n,t,a,o,s){try{var i=e[o](s),u=i.value}catch(c){return void n(c)}i.done?r(u):Promise.resolve(u).then(t,a)}function u(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function s(e){i(o,t,a,s,u,"next",e)}function u(e){i(o,t,a,s,u,"throw",e)}s(void 0)}))}}r.Z=function(){var e=(0,o.bN)(),r=e.globalState,n=e.dispatch,t=r.web3,i=r.address,c=function(){var e=u(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.eth.getBalance(i);case 2:r=e.sent,n({type:"SET_GLOBAL_STATE",values:{balance:(0,s.CG)(r)}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{refreshBalance:c}}},33797:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return N}});var t=n(34051),a=n.n(t),o=n(85893),s=n(67294),i=n(41664),u=n(97378),c=n(2426),d=n(24644),l=n(91986),h=n(75424),p=n(60416),f=n(68156),m=n(80967);function v(e,r,n,t,a,o,s){try{var i=e[o](s),u=i.value}catch(c){return void n(c)}i.done?r(u):Promise.resolve(u).then(t,a)}var b=function(e){var r=(0,s.useState)(""),n=r[0],t=r[1],i=(0,s.useState)(!1),b=i[0],x=i[1],w=(0,s.useState)(""),g=w[0],C=w[1],y=(0,c.Z)({address:e.address}).campaignContract,j=(0,l.Z)().refreshBalance,Z=(0,u.bN)().globalState,S=Z.connected,N=Z.address,T=e.refreshCampaignSummary,_=function(){var e,r=(e=a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CONTRIBUTE FORM SUBMITTED!"),r.preventDefault(),x(!0),C(""),e.prev=4,e.next=7,y.methods.contribute().send({from:N,value:(0,d.Y0)(n)});case 7:T(),j(),t(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),C(e.t0.message);case 15:return e.prev=15,x(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})),function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function s(e){v(o,t,a,s,i,"next",e)}function i(e){v(o,t,a,s,i,"throw",e)}s(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,o.jsxs)(h.Z,{onSubmit:_,error:!!g,children:[(0,o.jsxs)(h.Z.Field,{children:[(0,o.jsx)("label",{children:"Amount to Contribute"}),(0,o.jsx)(p.Z,{label:"ether",labelPosition:"right",value:n,onChange:function(e){return t(e.target.value)}})]}),(0,o.jsx)(f.Z,{error:!0,header:"Oops!",content:g}),(0,o.jsx)(m.Z,{primary:!0,disabled:!S||!y||b,loading:b,role:"button",children:"Contribute"})]})},x=n(52256),w=n(95712),g=n(18005),C=n(57417),y=n(40849);function j(e,r,n,t,a,o,s){try{var i=e[o](s),u=i.value}catch(c){return void n(c)}i.done?r(u):Promise.resolve(u).then(t,a)}function Z(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function s(e){j(o,t,a,s,i,"next",e)}function i(e){j(o,t,a,s,i,"throw",e)}s(void 0)}))}}var S=function(e){var r=(0,s.useState)(null),n=r[0],t=r[1],l=(0,s.useState)(!0),h=l[0],p=l[1],f=(0,c.Z)({address:e.address}).campaignContract;(0,u.bN)().globalState.connected;(0,s.useEffect)((function(){v()}),[f]);var v=function(){var e=Z(a().mark((function e(){var r,n,o,s,i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("GET CAMPAIGN SUMMARY"),!f){e.next=22;break}return console.log("SET CAMPAIGN SUMMARY"),p(!0),e.prev=4,e.next=7,f.methods.getSummary().call();case 7:r=e.sent,n=r[0],o=r[1],s=r[2],i=r[3],u=r[4],t({minimumContribution:n,balance:o,requestsCount:s,approversCount:i,manager:u}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:return e.prev=19,p(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(w.Z,{children:[(0,o.jsx)(i.default,{href:"/",children:(0,o.jsx)("a",{children:"< Back"})}),(0,o.jsx)("h3",{children:"Campaign"}),(0,o.jsxs)(g.Z,{reversed:"computer",children:[(0,o.jsx)(g.Z.Column,{computer:"6",mobile:"16",children:(0,o.jsx)(b,{address:e.address,refreshCampaignSummary:v})}),(0,o.jsxs)(g.Z.Column,{computer:"10",mobile:"16",children:[(0,o.jsx)(C.Z,{active:h,inverted:!0,children:(0,o.jsx)(y.Z,{})}),function(){if(n){var e=n.minimumContribution,r=n.balance,t=n.requestsCount,a=n.approversCount,s=[{header:n.manager,meta:"Address of Manager",description:"The manager created this campaign and can create requests to withdraw money ",style:{overflowWrap:"break-word"}},{header:e,meta:"Minimum Contribution (wei)",description:"You must contribute at least this much wei to become an approver"},{header:t,meta:"Number of Requests",description:"A request tries to withdraw money from the contract. Request must be approved by approvers"},{header:a,meta:"Number of Approvers",description:"Number of people who have already donated to this campaign"},{header:"".concat((0,d.CG)(r)," ETH"),meta:"Campaign Balance",description:"The balance is how much money this campaign has left to spend"}];return(0,o.jsx)(x.Z.Group,{items:s,itemsPerRow:2,doubling:!0})}}()]}),(0,o.jsx)(g.Z.Row,{children:(0,o.jsx)(g.Z.Column,{children:(0,o.jsx)(i.default,{href:"/campaigns/".concat(e.address,"/requests"),children:(0,o.jsx)("a",{children:(0,o.jsx)(m.Z,{primary:!0,children:"View Requests"})})})})})]})]})};S.getInitialProps=function(){var e=Z(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.query,e.abrupt("return",{address:n.address});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();var N=S}},function(e){e.O(0,[578,553,426,774,888,179],(function(){return r=19451,e(e.s=r);var r}));var r=e.O();_N_E=r}]);