(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{12819:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/[address]/requests/new",function(){return r(21031)}])},91986:function(e,n,r){"use strict";var t=r(34051),a=r.n(t),s=r(97378),u=r(24644);function c(e,n,r,t,a,s,u){try{var c=e[s](u),i=c.value}catch(o){return void r(o)}c.done?n(i):Promise.resolve(i).then(t,a)}function i(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function u(e){c(s,t,a,u,i,"next",e)}function i(e){c(s,t,a,u,i,"throw",e)}u(void 0)}))}}n.Z=function(){var e=(0,s.bN)(),n=e.globalState,r=e.dispatch,t=n.web3,c=n.address,o=function(){var e=i(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.eth.getBalance(c);case 2:n=e.sent,r({type:"SET_GLOBAL_STATE",values:{balance:(0,u.CG)(n)}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{refreshBalance:o}}},21031:function(e,n,r){"use strict";r.r(n);var t=r(34051),a=r.n(t),s=r(85893),u=r(67294),c=r(11163),i=r(41664),o=r(97378),l=r(2426),d=r(91986),f=r(24644),h=r(95712),p=r(75424),v=r(60416),x=r(68156),g=r(80967);function w(e,n,r,t,a,s,u){try{var c=e[s](u),i=c.value}catch(o){return void r(o)}c.done?n(i):Promise.resolve(i).then(t,a)}function b(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function u(e){w(s,t,a,u,c,"next",e)}function c(e){w(s,t,a,u,c,"throw",e)}u(void 0)}))}}var j=function(e){var n=(0,c.useRouter)(),r=(0,u.useState)(""),t=r[0],w=r[1],j=(0,u.useState)(""),m=j[0],_=j[1],Z=(0,u.useState)(""),E=Z[0],S=Z[1],y=(0,u.useState)(!1),C=y[0],k=y[1],T=(0,u.useState)(""),P=T[0],N=T[1],R=(0,l.Z)({address:e.address}).campaignContract,q=(0,d.Z)().refreshBalance,B=(0,o.bN)().globalState,O=B.connected,F=B.address,A=function(){var r=b(a().mark((function r(s){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("CREATE REQUEST FORM SUBMITTED"),s.preventDefault(),k(!0),N(""),r.prev=4,r.next=7,R.methods.createRequest(t,(0,f.Y0)(m),E).send({from:F});case 7:q(),n.push("/campaigns/".concat(e.address,"/requests")),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(4),N(r.t0.message);case 14:return r.prev=14,k(!1),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[4,11,14,17]])})));return function(e){return r.apply(this,arguments)}}();return(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(i.default,{href:"/campaigns/".concat(e.address,"/requests"),children:(0,s.jsx)("a",{children:"< Back"})}),(0,s.jsx)("h3",{children:"Create Request"}),(0,s.jsxs)(p.Z,{onSubmit:A,error:!!P,children:[(0,s.jsxs)(p.Z.Field,{children:[(0,s.jsx)("label",{children:"Description"}),(0,s.jsx)(v.Z,{value:t,onChange:function(e){return w(e.target.value)}})]}),(0,s.jsxs)(p.Z.Field,{children:[(0,s.jsx)("label",{children:"Value"}),(0,s.jsx)(v.Z,{label:"ether",labelPosition:"right",value:m,onChange:function(e){return _(e.target.value)}})]}),(0,s.jsxs)(p.Z.Field,{children:[(0,s.jsx)("label",{children:"Recipient"}),(0,s.jsx)(v.Z,{value:E,onChange:function(e){return S(e.target.value)}})]}),(0,s.jsx)(x.Z,{error:!0,header:"Oops!",content:P}),(0,s.jsx)(g.Z,{primary:!0,disabled:!O||!R||C,loading:C,children:"Create"})]})]})};j.getInitialProps=function(){var e=b(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.query,e.abrupt("return",{address:r.address});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.default=j},11163:function(e,n,r){e.exports=r(90387)}},function(e){e.O(0,[578,426,774,888,179],(function(){return n=12819,e(e.s=n);var n}));var n=e.O();_N_E=n}]);